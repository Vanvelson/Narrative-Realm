<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/forestSong.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <title>Narrative Realm</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">NarrativeRealm</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                  </li>
                  <li class="nav-item">
                    <a href="./tips.html" class="nav-link">Tips</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="./index_second.html">Recomended Books</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="./add_book.html">Add Book</a>
                  </li>
                  <li class="nav-item">
                    <a href="./contacts.html" class="nav-link" href="./index_second.html">Contacts</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Dropdown
                    </a>
                    <div class="dropdown-menu">
                      <a href="./forestSong.html">Forest Song</a>
                      <a href="./paintedFox.html">Painted Fox</a>
                    </div>
                  </li>
                </div> 
                </ul> 
              </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <h1>Painted Fox</h1>
            <button id="startListening">Start Voice Recognition</button>
            <div id="status">Click "Start Voice Recognition" and say a keyword.</div>
            <div id="bookText">
                <p>In the forest lived a cunning Fox Nikita. He avoided traps, helped his comrades and became very arrogant. Once the Fox boasted that he would steal a chicken from the market in broad daylight. Having made his way to the city, he barely escaped from the dogs, hiding in a pot of paint. Having turned blue, the Fox scared all the animals and decided to pretend to be the king. He declared that he was created by Saint Nicholas, and all the animals obeyed.</p>
                <p>Nikita lived in abundance and distributed food to others, but he was afraid that the paint would come off. At the celebration, he could not restrain himself and barked like a fox, which was why he was exposed. Enraged by the deception, the animals attacked the Fox and tore him apart...</p>
            </div>
            <div id="imageContainer"></div>
        </div>
    </main>

    <script>
        const keywords = [
            { "word": "Forest", "image": "https://static.vecteezy.com/system/resources/previews/021/182/343/non_2x/forest-nature-scene-for-cartoon-animation-vector.jpg" },
            { "word": "forest", "image": "https://static.vecteezy.com/system/resources/previews/021/182/343/non_2x/forest-nature-scene-for-cartoon-animation-vector.jpg" },
            { "word": "Nikita", "image": "https://mediananny.com/content/images_new/news/620x408/164918.jpg" },
            { "word": "nikita", "image": "https://mediananny.com/content/images_new/news/620x408/164918.jpg" },
            { "word": "Fox", "image": "https://mediananny.com/content/images_new/news/620x408/164918.jpg" },
            { "word": "fox", "image": "https://mediananny.com/content/images_new/news/620x408/164918.jpg" },
            { "word": "Traps", "image": "https://static.vecteezy.com/system/resources/previews/001/234/020/non_2x/set-of-various-cartoon-animal-traps-vector.jpg" },
            { "word": "traps", "image": "https://static.vecteezy.com/system/resources/previews/001/234/020/non_2x/set-of-various-cartoon-animal-traps-vector.jpg" },
            { "word": "Arrogant", "image": "https://ulvovi.info/sites/default/files/styles/wide_background/public/images/news/2017/10/233812.jpg?itok=eaBq3VJJ" },
            { "word": "arrogant", "image": "https://ulvovi.info/sites/default/files/styles/wide_background/public/images/news/2017/10/233812.jpg?itok=eaBq3VJJ" },
            { "word": "Chicken", "image": "https://c.wallhere.com/photos/80/8b/fried_chicken_chickens-27557.jpg!d" },
            { "word": "chicken", "image": "https://c.wallhere.com/photos/80/8b/fried_chicken_chickens-27557.jpg!d" },
            { "word": "Market", "image": "https://img.freepik.com/free-vector/food-market-stalls-with-fruits-vegetables-cheese-meat-fish-counter-crates_107791-4733.jpg" },
            { "word": "market", "image": "https://img.freepik.com/free-vector/food-market-stalls-with-fruits-vegetables-cheese-meat-fish-counter-crates_107791-4733.jpg" },
            { "word": "Daylight", "image": "https://img.freepik.com/free-vector/summer-landscape-with-lawn-bridge-pond_107791-14346.jpg" },
            { "word": "daylight", "image": "https://img.freepik.com/free-vector/summer-landscape-with-lawn-bridge-pond_107791-14346.jpg" },
            { "word": "City", "image": "https://www.onetwotrip.com/ru/blog/wp-content/uploads/2018/09/beauty-and-the-beast.jpg" },
            { "word": "city", "image": "https://www.onetwotrip.com/ru/blog/wp-content/uploads/2018/09/beauty-and-the-beast.jpg" },
            { "word": "Dogs", "image": "https://казка.укр/farbovanij_lis/4.jpg" },
            { "word": "dogs", "image": "https://казка.укр/farbovanij_lis/4.jpg" },
            { "word": "Paint", "image": "https://fs05.vseosvita.ua/05013yek-4e62-1200x630.jpg" },
            { "word": "paint", "image": "https://fs05.vseosvita.ua/05013yek-4e62-1200x630.jpg" },
            { "word": "Blue", "image": "https://dovidka.biz.ua/wp-content/uploads/2014/09/farbovaniy-lis-skorocheno.png" },
            { "word": "blue", "image": "https://dovidka.biz.ua/wp-content/uploads/2014/09/farbovaniy-lis-skorocheno.png" },


        ];

        if ('webkitSpeechRecognition' in window) {
            const recognition = new webkitSpeechRecognition();
            recognition.lang = "en-US";
            recognition.continuous = true;
            recognition.interimResults = false;

            document.getElementById("startListening").onclick = () => {
                recognition.start();
                document.getElementById("status").innerText = "Listening...";
            };

            recognition.onresult = (event) => {
                const transcript = event.results[event.results.length - 1][0].transcript.trim();
                document.getElementById("status").innerText = `Recognized: ${transcript}`;

                keywords.forEach(keyword => {
                    if (transcript.includes(keyword.word)) {
                        const imgElement = document.createElement("img");
                        imgElement.src = keyword.image;
                        imgElement.alt = keyword.word;

                        const imageContainer = document.getElementById("imageContainer");
                        imageContainer.innerHTML = ""; 
                        imageContainer.appendChild(imgElement);
                    }
                });
            };

            recognition.onerror = () => {
                document.getElementById("status").innerText = "Error recognizing speech.";
            };
        } else {
            document.getElementById("status").innerText = "Voice recognition not supported in this browser.";
        }
    </script>
</body>
</html>