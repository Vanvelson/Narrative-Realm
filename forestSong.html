<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/forestSong.css">
    <link href='https://unpkg.com/css.gg@2.0.0/icons/css/shopping-cart.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="shortcut icon" href="./img/5988242.png" type="image/x-icon">
    <title>Narrative Realm</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">NarrativeRealm</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="./tips.html">Tips</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="./index_second.html">Recomended Books</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Dropdown
                    </a>
                    <div class="dropdown-menu">
                      <a href="#">Courses</a>
                      <a href="#">Corporate training</a>
                      <hr>
                      <h3>Goals</h3>
                      <a href="#">Take a free course</a>
                      <a href="#">Get a diploma</a>
                      <a href="#">Get a certificate</a>
                      <a href="#">Get a new profession</a>
                      <h3>Themes</h3>
                      <a href="#">Data science</a>
                      <a href="#">Business</a>
                      <a href="#">Computer science</a>
                      <a href="#">Information Technology</a>
                      <div class="last-item"></div>
                  </div>  
                </ul>
              </div>
            </div>
        </nav>
    </header>
    

    <main>
        <div class="container">
            <h1>Лісова Пісня</h1>
            <button id="startListening">Увімкнути розпізнавання голосу</button>
            <div class="full_block">
                <div id="catalog"></div>
                <div class="content">
                    <p id="status">Натисніть "Увімкнути розпізнавання голосу" та прочитайте ключове слово.</p>
                    <div id="imageContainer"></div>
                </div>
            </div>
        </div>
    </main>
    
    <script type="module">
        const books = [
            { id: 1, title: "Lukash enters the forest where Mavka is, she was standing on a birch. An old forest in Volyn, a wild and mysterious place. The beginning of spring. The Dam Breaker runs out of the forest. Vik talks with the wreckers and the Mermaid, who reminds him of her love, reproaches her for betrayal. The Waterman scolds the Mermaid for being with a deceitful stranger. He only deceives the Mermaid. ACT ONE In the same area, Uncle Lev and his nephew Lukash are going to build a hut. Lev is an old man, kind. Lukash is still a young man. The old man tells the boy that he must be careful with the forest dwellers. The Forester tells the Mermaid that Lev will not harm them. Lukash makes a pipe from reeds, the sound of which attracts Mavka, who had previously spoken to the Forester. The forest ranger warned the girl to avoid people, because they only bring trouble. When Lukash is about to cut a birch tree with a knife, Mavka stops him and asks him not to hurt his sister. Lukash is surprised that he met such an unusually lush and beautiful maiden in the forest, and asks who she is. She is called Mavka of the Forest. Lukash likes the girl for her changeable beauty, gentle language, and sensitivity to music and beauty. He tells her that people mate with each other when they are in love. The boy also tells Mavka that they are going to build a hut in the forest. Mavka and Lukash fall in love with each other. ACT TWO Late summer, a hut has already been built in the clearing, a vegetable garden has been planted. Mother scolds Lukash for wasting time playing the flute. She also shouts at Mavka, calling her a useless, useless brat. He scolds her for her clothes, sends her to reap. But Mavka cannot reap the ears of corn, because they speak to her. Lukash explains to Mavka that her mother needs a daughter-in-law who would work in the field and in the house. Mavka struggles to understand all these laws with her infatuated heart, but such petty worries are alien to her, she lives in universal beauty. The widow Kylina comes to the farmstead. She takes Mavka's sickle and begins to reap. She jokes with Lukash, and then goes to the house. Her mother receives her kindly. Lukash escorts Kylina to the village. Mavka suffers, but Rusalka calms them down, but warns against love that can ruin a free soul. He warns Mavka and the Forester. He asks her to remember her will, the beauty of nature, and to free herself from the bonds of human love. Mavka is going to become a forest princess again. She dresses in a purple dress, a silver veil. The Forester begins to court her. They start dancing. But Maryshche appears, wanting to take Mavka away. She screams that she is still alive. Lukash treats Mavka rudely and shouts to her mother that he wants to send the elders to Kylina. Out of grief, Mavka goes to Maryshche. ACT THREE On a cloudy autumn night, Mavka's figure looms near Lukash's hut. The Forester emerges from the forest. He explains that he ordered Lukash to be turned into a werewolf. But Mavka hopes to turn him into a human with the power of her love. Lukash is afraid of Mavka and runs away from her. Kuts tells that poverty reigns in Lukash's family, his mother-in-law and daughter-in-law are fighting. Mavka turns into a dry willow, from which the boy of Kylina carves a flute. The flute speaks in Mavka's voice: How sweetly it plays, how deeply it cuts, it cuts open my chest, it takes out my heart... Kylina wants to cut down the willow, but Perelesnyk saves her. Kylina asks her husband to return to the village. The lost Dolya arrives, pointing to the flute. Lukash gave Mavka a soul, but deprived her of her body. But she does not grieve for her body, her love is now eternal. Lukash begins to play. Mavka flashes with her old beauty, and the man rushes to her. But she disappears. It begins to snow. Lukash freezes with a smile on his lips. The Forest Song embodies the folk perception of the surrounding world, the ancient mythological thinking of Ukrainians. The problem of the relationship between man and nature, which is very often not harmonious, is acute. Man is used to treating nature as a means that makes his life more comfortable. Using natural gifts, man does not notice his harmful actions. Mavka is the embodiment not only of the beauty and defenselessness of nature, but also of the spiritual beauty of man, which cannot be destroyed in everyday petty worries. It is eternally reborn."},            
        ];

        const keywords = [
            { word: "Мавка", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdTBYD45iOXwx8M2mSPCPs5L4KXRIDB9vkVQ&s" },
            { word: "mвка", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdTBYD45iOXwx8M2mSPCPs5L4KXRIDB9vkVQ&s" },
            { word: "Лукаш", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHE4CmOPjx1upcr3uWKCkx_iGPBzx3e7QX6A&s" },
            { word: "Forest", image: "https://st5.depositphotos.com/12546280/63855/v/450/depositphotos_638556134-stock-illustration-landscape-nature-green-forest-mountain.jpg" },
            { word: "сопілка", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRh9iES2Ud_Tt8NtVjjnGbWNegvKmOA5Lsppg&s" },
            { word: "вовкулака", image: "https://www.prowse.com.ua/wp-content/uploads/2024/03/wervolf.jpg" },
            { word: "мавка", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdTBYD45iOXwx8M2mSPCPs5L4KXRIDB9vkVQ&s" },
            { word: "лукаш", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHE4CmOPjx1upcr3uWKCkx_iGPBzx3e7QX6A&s" },
            { word: "Ліс", image: "https://st5.depositphotos.com/12546280/63855/v/450/depositphotos_638556134-stock-illustration-landscape-nature-green-forest-mountain.jpg" },
            { word: "Сопілка", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRh9iES2Ud_Tt8NtVjjnGbWNegvKmOA5Lsppg&s" },
            { word: "Вовкулака", image: "https://www.prowse.com.ua/wp-content/uploads/2024/03/wervolf.jpg" },
            { word: "birch", image: "https://foni.papik.pro/uploads/posts/2024-09/foni-papik-pro-4r0i-p-kartinki-bereza-dlya-detei-na-prozrachnom-1.png" },
            { word: "лісовик", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQXU6S_2hV4I5p_92Yr4fBGQm2bVWSv-UoCw&s" },
            { word: "водяник", image: "https://www.prowse.com.ua/wp-content/uploads/2024/03/wervolf.jpg" },
            { word: "Русалка", image: "https://upload.wikimedia.org/wikipedia/commons/6/6f/Mermaid.jpg" },
            { word: "Лев", image: "https://upload.wikimedia.org/wikipedia/commons/5/5e/Lion_head.jpg" },
            { word: "мавка лісова", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdTBYD45iOXwx8M2mSPCPs5L4KXRIDB9vkVQ&s" },
            { word: "Birch", image: "https://foni.papik.pro/uploads/posts/2024-09/foni-papik-pro-4r0i-p-kartinki-bereza-dlya-detei-na-prozrachnom-1.png" },
            { word: "бірч", image: "https://foni.papik.pro/uploads/posts/2024-09/foni-papik-pro-4r0i-p-kartinki-bereza-dlya-detei-na-prozrachnom-1.png" },
            { word: "Birch", image: "https://foni.papik.pro/uploads/posts/2024-09/foni-papik-pro-4r0i-p-kartinki-bereza-dlya-detei-na-prozrachnom-1.png" },
];
    
        function displayCatalog() {
            const catalog = document.getElementById("catalog");
            books.forEach(book => {
                const card = document.createElement("div");
                card.classList.add("card");
                card.innerHTML = `
                    <p>${book.title}</p>
                    <p>Автор: Леся Українка</p>
                `;
                catalog.appendChild(card);
            });
        }
    
        displayCatalog();
    
        if ('webkitSpeechRecognition' in window) {
            const recognition = new webkitSpeechRecognition();
            recognition.lang = "uk-UA";
            recognition.continuous = true;
            recognition.interimResults = false;
    
            document.getElementById("startListening").onclick = () => {
                recognition.start();
                document.getElementById("status").innerText = "Слухаю...";
            };
    
            recognition.onresult = (event) => {
                const transcript = event.results[event.results.length - 1][0].transcript.trim();
                document.getElementById("status").innerText = `Розпізнано: ${transcript}`;
    
                keywords.forEach(keyword => {
                    if (transcript.includes(keyword.word)) {
                        document.getElementById("status").innerText = `Розпізнано: ${keyword.word}`;
                        
                        const imgElement = document.createElement("img");
                        imgElement.src = keyword.image;
                        imgElement.alt = keyword.word;
                        imgElement.width = 300; 
                        document.getElementById("imageContainer").appendChild(imgElement);
                    }
                });
            };
    
            recognition.onerror = (event) => {
                document.getElementById("status").innerText = "Помилка розпізнавання голосу";
            };
        } else {
            document.getElementById("status").innerText = "Розпізнавання голосу не підтримується у вашому браузері";
        }
        
    </script>
    
</body>
</html>